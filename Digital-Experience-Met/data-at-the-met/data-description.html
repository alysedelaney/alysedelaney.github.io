<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--PAGE TITLE and DESCRIPTION-->
    <title>Alyse Description</title>
    <meta name="Alyse Description" content="">
    <!--LINK CSS-->
    <link rel="stylesheet" type="text/css" href="../global-style.css">
    <!-- FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Alegreya+Sans:wght@300;400;500&family=Alegreya:ital@0;1&family=Archivo:wght@100;400;500;600&family=DM+Serif+Text:ital@0;1&display=swap" rel="stylesheet">
    <!--FAVICON-
        <link rel="icon" type="image/png" href="assets/favicon.png"> -->
    </head>
    <body>
        <header>
            <nav class="main-navigation">
                <ul>
                    <li><a href="../index.html">HOME</a></li>
                    <li><a href="../about.html">ABOUT US</a></li>
                    <li><a href="../conclusion.html">CONCLUSION</a></li>
                    <li><a href="../references.html">REFERENCES</a></li>
                </ul>
            </nav>
        </header>
        <main>
            <div class="title">
                <h1>Data at the Met</h1>
            </div>
            <div class="chapter-content">
                <nav class="side-navigation">
                    <ul>
                        <li><a href="data-introduction.html">INTRO</a></li>
                        <li><a href="data-description.html" id="active-navigation">DESCRIPTION</a></li>
                        <li><a href="data-analysis.html">ANALYSIS</a></li>
                    </ul>
                </nav>
                <div class="text">
                    <h2>Description</h2>
                    <p>The primary way to access the museum's open access dataset is by utilizing the API.</p>
                    <h3>How to Use the Met Museum API:</h3>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                    <h3>See the API in action!</h3>
                    <p>The following mini-application generates a random item currently on view in the Department of Greek and Roman Art:</p>
                    <div class="random-artwork">
                        <div>
                            <img id="random-artwork-image"/> 
                        </div>
                        <div>
                            <div class="artwork-info">
                                <h2 id="artwork-title"></h2>
                                <p><span class="underline">Culture</span>: <span id="artwork-culture"></span></p>
                                <p><span class="underline">Period</span>: <span id="artwork-period"></span></p>
                                <p><span class="underline">Date</span>: <span id="artwork-objectdate"></span></p>
                                <p><span class="underline">Medium</span>: <span id="artwork-medium"></span></p>
                                <p><p><span class="underline">Gallery</span>: <span id="artwork-gallery"></span></p>
                                <p>See full item details @ <a id="artwork-link" target="_blank">The Met's Digital Collections</a></p>
                                <button id="randomize" onclick="randomArt()">Show me Another</button>
                            </div>
                        </div>
                    </div>
                    <h3>How it's Made:</h3>
                    <p>Simply put, my code asks the API what artworks are currently on display in the Met's Greek and Roman Art wing, then places the information into HTML code.</p>
                    <p>First, JavaScript calls to the API. It asks the API to retrieve the Object IDs for works of art that are from Greek and Roman Art (Department 13), are currently on view (isOnView=True), and those that have images (hasImages=true).</p>
                    <p class="code-block">fetch('https://collectionapi.metmuseum.org/public/collection/v1/search?departmentId=13&isOnView=true&hasImages=true&q=*')<br>.then((response) => response.json())</p>
                    <p>After that, it generates a random number to select from the array of objects provided by the API to randomly select one of the object IDs:</p>
                    <p class="code-block">.then((objects) => {<br>
                        const randomSelect = Math.floor(Math.random()*objects.total)<br>
                        const randomObject = objects.objectIDs[randomSelect]</p>
                    <p>The random object ID is then placed into another call to the API:</p>
                    <p class="code-block"> let objectCall = `https://collectionapi.metmuseum.org/public/collection/v1/objects/${randomObject}`<br>
                        fetch(objectCall)<br>
                        .then((response) => response.json())</p>
                    <p>The resulting information is then inserted into the related HTML elements:</p>
                    <p class="code-block">.then((data) => {<br>
                        document.getElementById("random-artwork-image").src=data.primaryImageSmall<br>
                        document.getElementById("artwork-title").innerText=data.title<br>
                        document.getElementById("artwork-period").innerText=data.period<br>
                        document.getElementById("artwork-objectdate").innerText=data.objectDate<br>
                        document.getElementById("artwork-medium").innerText=data.medium<br>
                        document.getElementById("artwork-culture").innerText=data.culture<br>
                        document.getElementById("artwork-gallery").innerText=data.GalleryNumber<br>
                        document.getElementById("artwork-link").href=data.objectURL</p>
                    <p>The entire script is placed in a function called "randomArt()", which is then used to create the Randomize button.</p>
                </div>
            </div>
            
        </main>
        <footer>
            <nav class="bottom-navigation">
                <ul>
                    <li><a href="../mediated-experience/mediated-introduction.html">MEDIATED EXPERIENCE</a></li>
                    <li><a href="beyond-introduction.html" class="active-navigation">BEYOND THE MUSEUM</a></li>
                    <li><a href="../data-at-the-met/data-introduction.html">DATA AT THE MET</a></li>
                </ul>
            </nav>
            <div class="copyright">
                <p>Â© Alyse Delaney 2022</p>
            </div>
        </footer>
        <script>            
            function randomArt(){
                fetch('https://collectionapi.metmuseum.org/public/collection/v1/search?departmentId=13&isOnView=true&hasImages=true&q=*')
                .then((response) => response.json())
                .then((objects) => {
                    const randomSelect = Math.floor(Math.random()*objects.total)
                    const randomObject = objects.objectIDs[randomSelect]
                    let objectCall = `https://collectionapi.metmuseum.org/public/collection/v1/objects/${randomObject}`
                    console.log(objectCall)
                    fetch(objectCall)
                    .then((response) => response.json())
                    .then((data) => {
                        document.getElementById("random-artwork-image").src=data.primaryImageSmall
                        document.getElementById("artwork-title").innerText=data.title
                        document.getElementById("artwork-period").innerText=data.period
                        document.getElementById("artwork-objectdate").innerText=data.objectDate
                        document.getElementById("artwork-medium").innerText=data.medium
                        document.getElementById("artwork-culture").innerText=data.culture
                        document.getElementById("artwork-gallery").innerText=data.GalleryNumber
                        document.getElementById("artwork-link").href=data.objectURL
                        console.log(document.getElementById("artwork-title"))
                    })
                })
            }
            randomArt()  
        </script>
    </body>
    </html>
    
    
    
    <!--
        fetch(objectCall)
        .then((response) => response.json())
        .then((data) => {
            
        })
        document.getElementById("api-test").src=
        
        
        
    -->